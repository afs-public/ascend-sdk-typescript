"use strict";
/*
 * Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT.
 */
Object.defineProperty(exports, "__esModule", { value: true });
exports.filesToStream = filesToStream;
exports.filesToByteArray = filesToByteArray;
exports.filesToString = filesToString;
exports.streamToByteArray = streamToByteArray;
exports.bytesToStream = bytesToStream;
const node_fs_1 = require("node:fs");
const promises_1 = require("node:fs/promises");
const node_stream_1 = require("node:stream");
function filesToStream(filePath) {
    return node_stream_1.Readable.toWeb((0, node_fs_1.createReadStream)(filePath));
}
async function filesToByteArray(filePath) {
    return new Uint8Array(await (0, promises_1.readFile)(filePath));
}
async function filesToString(filePath) {
    return (0, promises_1.readFile)(filePath, "utf8");
}
async function streamToByteArray(stream) {
    if (!stream) {
        return Buffer.from("");
    }
    const chunks = [];
    const reader = stream.getReader();
    let done = false;
    while (!done) {
        const res = await reader.read();
        done = res.done;
        if (res.value) {
            chunks.push(res.value);
        }
    }
    return Buffer.concat(chunks);
}
function bytesToStream(bytes) {
    return new ReadableStream({
        start(controller) {
            controller.enqueue(bytes);
        },
        pull(controller) {
            controller.close();
        },
        cancel() {
        },
    });
}
//# sourceMappingURL=files.js.map